define(["require","exports","models/database"],function(n,t,i){var r=i;return function(){function n(){this.baseUrl="http://localhost:8080"}return n.prototype.databases=function(){var n=$.Deferred();return this.fetch("/databases",{pageSize:1024}).done(function(t){var i=t.map(function(n){return new r(n)});n.resolve(i)}),n},n.prototype.collections=function(n){return this.fetch("/terms/Raven/DocumentsByEntityName",{field:"Tag",fromValue:"",pageSize:100},n)},n.prototype.fetch=function(n,t,i){return $.ajax({cache:!1,url:this.baseUrl+(i?"/"+i.name:"")+n,data:t})},n}()})