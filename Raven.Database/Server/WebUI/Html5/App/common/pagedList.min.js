define(["require","exports","common/pagedResultSet"],function(n,t,i){var r=i;return function(){function n(n,t){typeof t=="undefined"&&(t=30),this.fetcher=n,this.take=t,this.isFetching=ko.observable(!1),this.items=ko.observableArray(),this.hasMoreItems=!0}return n.prototype.loadNextChunk=function(){var n=this;return this.isFetching()?null:(this.isFetching(!0),this.fetcher(this.items().length,this.take).always(function(){return n.isFetching(!1)}).done(function(t){n.items.pushAll(t.items),n.hasMoreItems=n.items().length<t.totalResultCount}))},n}()})